(function(e){e.fn.extend({searchMeme:function(t){var n=e.extend({animationSpeed:500,defaultText:"Search Quizzes",button:"orange",buttonPlacement:"left",onSearch:null,searchComplete:false},t);return this.each(function(){function l(){var t=e("#search-green").val();var n=e("#alertbox").val();if(t.length==0||t=="Search Quizzes"){if(n==1){alert("Please enter something to search");return false}e("#alertbox").val(1)}else{document.searchForms.submit()}}var t;var r;var i;if(n.searchComplete){i=e(".searchMeme-button-inner");onSearchComplete();return false}var s=e('<div class="wrapper-'+n.button+'"><div class="searchMeme-button-'+n.buttonPlacement+" "+n.button+"-normal  searchMeme-round-"+n.buttonPlacement+'"> '+'<div class="searchMeme-button-icon searchMeme-button-inner"></div></div> <div class="searchMeme-input-'+n.buttonPlacement+'"></div></div>');e(this).before(s);e(".searchMeme-input-"+n.buttonPlacement+"",s).append(e(this));t=e(".searchMeme-input-"+n.buttonPlacement+" input",s);r=e(".searchMeme-button-"+n.buttonPlacement+"",s);i=e(".searchMeme-button-inner",r);var o=0;var u=0;var a=0;var f=n.defaultText;o=t.width();u=t.css("padding-left");a=parseInt(o)+parseInt(u)*2;if(n.buttonPlacement=="left")t.css({width:0,paddingLeft:0,paddingRight:0}).animate({width:0,paddingLeft:0,paddingRight:0},n.animationSpeed);else t.css({"margin-left":a,paddingLeft:0,paddingRight:0}).animate({marginLeft:a,paddingLeft:0,paddingRight:0},n.animationSpeed);t.val(f).addClass("searchMeme-water-mark");r.hover(function(){e(this).addClass(""+n.button+"-hover");e(this).removeClass(""+n.button+"-normal")},function(){e(this).addClass(""+n.button+"-normal");e(this).removeClass(""+n.button+"-hover")});r.click(function(){if(n.buttonPlacement=="left")t.addClass("searchMeme-water-mark").animate({width:o,paddingLeft:u,paddingRight:u},n.animationSpeed);else t.addClass("searchMeme-water-mark").animate({marginLeft:0,paddingLeft:u,paddingRight:u},n.animationSpeed)}).click(function(){l();return false});t.keydown(function(e){if(e.which==13){l()}}).click(function(){t.removeClass("searchMeme-water-mark").val("");return false}).blur(function(){if(e(this).val()=="")e(this).addClass("searchMeme-water-mark")});e(document).click(function(r){if(n.buttonPlacement=="left"){t.removeClass("searchMeme-water-mark").animate({width:0,paddingLeft:0,paddingRight:0},n.animationSpeed,function(){t.val(f).addClass("searchMeme-water-mark");e("#alertbox").val(0)})}else{t.animate({marginLeft:a,paddingLeft:0,paddingRight:0},n.animationSpeed,function(){t.val(f).addClass("searchMeme-water-mark");e("#alertbox").val(0)})}})})}})})(jQuery)